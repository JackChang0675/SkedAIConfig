name: Trigger Other Repo Action

on: [push]

jobs:
  trigger:
    runs-on: ubuntu-latest
    environment: env

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Read config
        id: read-config
        run: |
          declare -A dictionary
          while IFS=: read -r key value; do
            key=$(echo $key | xargs)
            value=$(echo $value | xargs)
            dictionary[$key]=$value
          done < mainConfig.txt

          for key in "${!dictionary[@]}"; do
            echo "::set-output name=$key::${dictionary[$key]}"
          done

      - name: Use dictionary variables
        run: |
          echo "Value for key1: ${{ steps.read-dictionary.outputs.ortools_branch }}"
          echo "Value for key2: ${{ steps.read-dictionary.outputs.is_prerelease }}"
